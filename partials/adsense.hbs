{{!-- partials/adsense.hbs --}}
{{!-- Show ads only to non-members --}}
{{#unless @member}}

<div class="ad-box {{#if class}}{{class}}{{/if}} {{#if type}}ad-box--{{type}}{{/if}}">
  <div class="ad-box__top">
    <span class="ad-box__label">{{t "Advertisement"}}</span>
    {{!-- show CTA unless turned off --}}
    {{#unless nocta}}
      <a class="ad-box__remove" href="#/portal/signup">
        {{t "Remove ads"}}
      </a>
    {{/unless}}
  </div>

  <div class="ad-box__body">
    {{!-- detect ad type --}}
    {{#if type}}

      {{!-- 1. responsive square / generic auto --}}
      {{#match type "responsive"}}
        <ins class="adsbygoogle ad--responsive"
             style="display:block"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}7663977887{{/if}}"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>

      {{!-- 2. 336x280 → 300 → 250 on mobile --}}
      {{else match type "large-rectangle"}}
        <ins class="adsbygoogle ad--336x280"
             style="display:inline-block;width:336px;height:280px"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}7663977887{{/if}}"></ins>

      {{!-- 3. 300x250 standard --}}
      {{else match type "medium-rectangle"}}
        <ins class="adsbygoogle ad--300x250"
             style="display:inline-block;width:300px;height:250px"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}7663977887{{/if}}"></ins>

      {{!-- 4. leaderboard 728x90 --}}
      {{else match type "leaderboard"}}
        <ins class="adsbygoogle ad--leaderboard"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}8939839370{{/if}}"></ins>

      {{!-- 5. vertical / responsive sidebar --}}
      {{else match type "responsive-vertical"}}
        <ins class="adsbygoogle ad--vertical"
             style="display:block"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}3487917390{{/if}}"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>

      {{!-- 6. skyscraper 160x600 --}}
      {{else match type "wide-skyscraper"}}
        <ins class="adsbygoogle ad--160x600"
             style="display:inline-block;width:160px;height:600px"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}3487917390{{/if}}"></ins>

      {{!-- 7. in-article --}}
      {{else match type "in-article"}}
        <ins class="adsbygoogle ad--in-article"
             style="display:block;text-align:center;"
             data-ad-layout="in-article"
             data-ad-format="fluid"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}6501428979{{/if}}"></ins>

      {{!-- 8. fluid w/ layout key --}}
      {{else match type "fluid"}}
        <ins class="adsbygoogle ad--fluid"
             style="display:block"
             data-ad-format="fluid"
             data-ad-layout-key="-6v+f0-19-44+c6"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}9130894804{{/if}}"></ins>

      {{!-- 9. multiplex / auto relaxed --}}
      {{else match type "autorelaxed"}}
        <ins class="adsbygoogle ad--autorelaxed"
             style="display:block"
             data-ad-format="autorelaxed"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}6808134701{{/if}}"></ins>

      {{!-- 10. 900x250 wide banner --}}
      {{else match type "wide-900x250"}}
        <ins class="adsbygoogle ad--900x250"
             style="display:inline-block;width:900px;height:250px"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="{{#if slot}}{{slot}}{{else}}3375031396{{/if}}"></ins>

      {{!-- fallback to responsive --}}
      {{else}}
        <ins class="adsbygoogle ad--responsive"
             style="display:block"
             data-ad-client="ca-pub-1291242080282540"
             data-ad-slot="7663977887"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      {{/match}}

    {{else}}
      {{!-- no type → responsive --}}
      <ins class="adsbygoogle ad--responsive"
           style="display:block"
           data-ad-client="ca-pub-1291242080282540"
           data-ad-slot="7663977887"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
    {{/if}}
  </div>
</div>

<script>
  (window.adsbygoogle = window.adsbygoogle || []).push({});
</script>

{{/unless}}
