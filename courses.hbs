{{!< default}}

{{!-- Hero Section --}}
<div class="container-wide">
    <div class="section-hero">
        <div class="section-hero-content" style="max-width: 800px; margin: 0 auto; text-align: center;">
            <h1 class="hero-title">Courses</h1>
            <p class="hero-description">Professional coding courses documented from real-world engineering.</p>
        </div>
    </div>
</div>

{{!-- Course Grid --}}
<div class="container-wide">
    <section class="section-posts-grid">
        {{!-- The collection loop (automatically grabs posts tagged #course) --}}
        {{#foreach posts}}
            <article class="card-post-classic">
                
                {{!-- Image --}}
                {{#if feature_image}}
                    <div class="card-post-image">
                        <a href="{{url}}" class="card-post-image-link">
                            <img srcset="{{img_url feature_image size="s"}} 300w, {{img_url feature_image size="m"}} 600w" src="{{img_url feature_image size="m"}}" alt="{{title}}" loading="lazy">
                        </a>
                        {{!-- Lesson Count Badge --}}
                        <div class="card-post-image-badge">
                            <div class="card-post-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                            </div>
                            {{!-- Detect tags like #12-lessons --}}
                            {{#foreach tags visibility="internal"}}
                                {{#if (match name "^#.*-lessons$")}}
                                    <span class="lesson-count-text" style="text-transform: capitalize;">{{name}}</span>
                                {{/if}}
                            {{/foreach}}
                        </div>
                    </div>
                {{/if}}

                {{!-- Body --}}
                <div class="card-post-content">
                    <div class="card-post-meta">
                        {{#if primary_tag}}
                            <span class="card-post-primary-tag" style="color: var(--ghost-accent-color); font-weight: 600;">{{primary_tag.name}}</span>
                        {{/if}}
                        <span class="card-post-meta-divider">|</span>
                        <span class="card-post-date">{{reading_time}}</span>
                    </div>
                    <h2 class="card-post-title"><a href="{{url}}">{{title}}</a></h2>
                    <p style="margin-bottom: var(--spacing-4);">{{excerpt words="12"}}...</p>
                    <a href="{{url}}" class="button button-sm button-background-200">Start Learning</a>
                </div>
            </article>
        {{/foreach}}
    </section>
</div>

{{!-- Pagination --}}
<div class="container-wide section-posts-grid" style="justify-content: center; margin-top: var(--spacing-9);">
    {{pagination}}
</div>

<script>
// Cleanup badge text
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.lesson-count-text').forEach(el => {
        el.innerText = el.innerText.replace('#', '').replace(/-/g, ' ');
    });
});
</script>